(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["selectors"],{"23ca":function(t,e,n){"use strict";var r=n("8f43"),a=n.n(r);a.a},"2fdb":function(t,e,n){"use strict";var r=n("5ca1"),a=n("d2c8"),i="includes";r(r.P+r.F*n("5147")(i),"String",{includes:function(t){return!!~a(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(a){}}return!0}},6762:function(t,e,n){"use strict";var r=n("5ca1"),a=n("c366")(!0);r(r.P,"Array",{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"7f7f":function(t,e,n){var r=n("86cc").f,a=Function.prototype,i=/^\s*function ([^ (]*)/,c="name";c in a||n("9e1e")&&r(a,c,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},"85f2":function(t,e,n){t.exports=n("ec5b")},"8f43":function(t,e,n){},"9ceb":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e,n,r,i,c=[];for(e=t.split(","),r=0,i=e.length;r<i;r+=1)n=e[r],n.length>0&&c.push(a(n));return c},a=function(t){var e,n=t,r={a:0,b:0,c:0},a=[],i=/(\[[^\]]+\])/g,c=/(#[^\#\s\+>~\.\[:\)]+)/g,o=/(\.[^\s\+>~\.\[:\)]+)/g,s=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,l=/(:(?!not|global|local)[\w-]+\([^\)]*\))/gi,h=/(:(?!not|global|local)[^\s\+>~\.\[:]+)/g,u=/([^\s\+>~\.\[:]+)/g;return e=function(e,i){var c,o,s,l,h,u;if(e.test(n))for(c=n.match(e),o=0,s=c.length;o<s;o+=1)r[i]+=1,l=c[o],h=n.indexOf(l),u=l.length,a.push({selector:t.substr(h,u),type:i,index:h,length:u}),n=n.replace(l,Array(u+1).join(" "))},function(){var t=function(t){var e,r,a,i;if(t.test(n))for(e=n.match(t),r=0,a=e.length;r<a;r+=1)i=e[r],n=n.replace(i,Array(i.length+1).join("A"))},e=/\\[0-9A-Fa-f]{6}\s?/g,r=/\\[0-9A-Fa-f]{1,5}\s/g,a=/\\./g;t(e),t(r),t(a)}(),function(){var t,e,r,a,i=/{[^]*/gm;if(i.test(n))for(t=n.match(i),e=0,r=t.length;e<r;e+=1)a=t[e],n=n.replace(a,Array(a.length+1).join(" "))}(),e(i,"b"),e(c,"a"),e(o,"b"),e(s,"c"),e(l,"b"),e(h,"b"),n=n.replace(/[\*\s\+>~]/g," "),n=n.replace(/[#\.]/g," "),n=n.replace(/:not/g,"    "),n=n.replace(/:local/g,"      "),n=n.replace(/:global/g,"       "),n=n.replace(/[\(\)]/g," "),e(u,"c"),a.sort(function(t,e){return t.index-e.index}),{selector:t,specificity:"0,"+r.a.toString()+","+r.b.toString()+","+r.c.toString(),specificityArray:[0,r.a,r.b,r.c],parts:a}}},c200:function(t,e,n){},cc55:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"selectors"},[n("div",{staticClass:"hierarchy-container"},[n("SelectorHierarchy",{attrs:{chartData:t.chartData,type:"general"}}),n("SelectorHierarchy",{attrs:{chartData:t.chartData,type:"duplications"}}),n("SelectorHierarchy",{attrs:{chartData:t.chartData,type:"warnings"}})],1),n("div",{staticClass:"tooltipContainer"})])},a=[],i=(n("6762"),n("2fdb"),n("7f7f"),n("96cf"),n("3b8d")),c=(n("28a5"),n("ac6a"),n("2b0e")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.classList},[n("div",{staticClass:"v-box__header"},[t._v(t._s(t.heading))]),"warnings"===t.type?n("div",{staticClass:"absolute legend"},[n("h5",{staticClass:"v-box__header legend-header"},[t._v("Legende")]),n("div",{staticClass:"legend-content"},[n("div",{staticClass:"legend-box"},[n("font-awesome-icon",{staticClass:"performance legend-icon",attrs:{icon:"hourglass-half"}}),t._v(" : Performance\n      ")],1),n("div",{staticClass:"legend-box"},[n("font-awesome-icon",{staticClass:"syntax legend-icon",attrs:{icon:"code"}}),t._v(" : Syntax\n      ")],1),n("div",{staticClass:"legend-box"},[n("font-awesome-icon",{staticClass:"spec legend-icon",attrs:{icon:"chart-line"}}),t._v(" : Spezifizität\n      ")],1),n("div",{staticClass:"legend-box"},[n("font-awesome-icon",{staticClass:"style legend-icon",attrs:{icon:"magic"}}),t._v(" : Style\n      ")],1),n("div",{staticClass:"legend-box"},[n("font-awesome-icon",{staticClass:"dupl legend-icon",attrs:{icon:"copy"}}),t._v(" : Duplizierung\n      ")],1)])]):t._e(),n("div",{staticClass:"v-box__chart selector-chart v-box__content",attrs:{id:t.type}})])},s=[];function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=n("85f2"),u=n.n(h);function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u()(t,r.key,r)}}function f(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}var p=n("5698"),g=function(){function t(){var e=this;l(this,t),this.connector=function(t){return"M"+t.parent.y+","+t.parent.x+"V"+t.x+"H"+t.y},this.collapse=function(t){t.children&&(t._children=t.children,t._children.forEach(e.collapse),t.children=null)},this.click=function(t){t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null),e.update(t)},this.update=function(t){e.width=800;var n=e.tree(e.root),r=[];n.eachBefore(function(t){r.push(t)}),e.height=Math.max(500,r.length*e.barHeight+e.margin.top+e.margin.bottom);var a=r.slice(1);r.forEach(function(t,n){t.x=n*e.barHeight}),p["e"]("#".concat(e.sel," svg")).transition().duration(e.duration).attr("height",e.height);var i=e.svg.selectAll("g.node").data(r,function(t){return t.id||(t.id=++this.i)}),c=i.enter().append("g").attr("class",function(t){return"node g".concat(t.id?t.id:0)}).attr("transform",function(){return"translate("+t.y0+","+t.x0+")"}).on("click",e.click);c.append("circle").attr("r",1e-6).style("fill",function(t){return t._children?"lightsteelblue":"#fff"});var o=e;c.append("text").attr("x",function(t){return t.children||t._children,10}).attr("dy",".35em").attr("text-anchor",function(t){return t.children||t._children,"start"}).text(function(t){var e=o.svg.select(".g".concat(t.id?t.id:0));return t.data.data&&t.data.data.length>0&&t.data.data.forEach(function(t,n){o.currCat=t.category,e.append("text").attr("x",function(t){var e=t.data.name.length;return 25+6*e}).attr("dy",".35em").attr("font-family","Font Awesome 5 Free").style("font-weight","900").style("font-size","15px").text(function(t){var e="";switch(o.currCat){case"syntax":e=o.syntaxIcon;break;case"specificity":e=o.specificityIcon;break;case"style":e=o.stylisticIcon;break;case"performance":e=o.performanceIcon;break;case"dupl":e=o.duplicationsIcon;break}return e}).attr("class",function(t){return"specificity"===o.currCat?"fa-icon spec":"fa-icon "+o.currCat}).attr("data-rule",function(e){return t.rule}).attr("data-file",function(e){return t.file}).attr("data-line",function(e){return t.line}).attr("data-property",function(e){return t.property}).attr("transform",function(){if(0===n)return"translate(0)";var t=20*n;return"translate(".concat(t,")")}).on("mouseover",function(e){var n="<b>Deklaration: </b>".concat(t.property),r=o.getCategory(t.category);o.toolTipContainer.transition().duration(200).style("opacity",.9),o.toolTipContainer.html("\n                <b>Warnung: </b>".concat(t.rule,"<br>\n                <b>Kategorie: </b>").concat(r,"<br>\n                <b>Datei/Zeile: </b>").concat(t.file," / ").concat(t.line,"<br>").concat(t.property?n:"","\n              ")).style("left",p["a"].pageX+10+"px").style("top",p["a"].pageY-28+"px")}).on("mouseout",function(t){o.toolTipContainer.style("opacity",0)})}),t.data.name.length>30?t.data.name.substring(0,20)+"...":t.data.name}).style("fill-opacity",1e-6);var s=i.merge(c).transition().duration(e.duration);s.attr("transform",function(t){return"translate("+t.y+","+t.x+")"}),s.select("circle").attr("r",4.5).style("fill",function(t){return t._children?"lightsteelblue":"#fff"}),s.select("text").style("fill-opacity",1);var l=i.exit().transition().duration(e.duration);l.attr("transform",function(e){return"translate("+t.y+","+t.x+")"}).remove(),l.select("circle").attr("r",1e-6),l.select("text").style("fill-opacity",1e-6);var h=e.svg.selectAll("path.link").data(a,function(t){var e=t.id+"->"+t.parent.id;return e}),u=h.enter().insert("path","g").attr("class","link").attr("d",function(n){var r={x:t.x0,y:t.y0,parent:{x:t.x0,y:t.y0}};return e.connector(r)});h.merge(u).transition().duration(e.duration).attr("d",e.connector),h.exit().transition().duration(e.duration).attr("d",function(n){var r={x:t.x,y:t.y,parent:{x:t.x,y:t.y}};return e.connector(r)}).remove(),r.forEach(function(t){t.x0=t.x,t.y0=t.y})}}return f(t,[{key:"$onInit",value:function(t,e){var n=this,r=p["f"],a=p["c"],i=p["e"];this.margin={top:20,right:10,bottom:20,left:10},this.width=1e3-this.margin.right-this.margin.left,this.height=800-this.margin.top-this.margin.bottom,this.barHeight=20,this.barWidth=.8*this.width,this.i=0,this.duration=500,this.tree=r().size([this.width,this.height]),this.sel=e,this.syntaxIcon="",this.duplicationsIcon="",this.specificityIcon="",this.performanceIcon="",this.stylisticIcon="",this.currCat="",this.displayCat="",this.toolTipContainer=p["e"](".tooltipContainer").style("opacity",0),this.tree=r().nodeSize([0,30]),this.root=this.tree(a(t)),this.getCategory=function(t){switch(t){case"syntax":return"Syntax";case"specificity":return"Spezifizität";case"style":return"Style";case"performance":return"Performance";case"dupl":return"Duplizierung";default:return""}},this.root.each(function(t){t.name=t.id,t.id=n.i,n.i++}),this.root.x0=this.root.x,this.root.y0=this.root.y,this.svg=i("#".concat(e)).append("svg").attr("width",this.width+this.margin.right+this.margin.left).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.update(this.root)}}]),t}(),y=n("ecee"),m=n("c074"),v=n("ad3d");y["c"].add(m["i"],m["c"],m["j"],m["a"],m["d"]);var b=c["a"].extend({name:"SelectorHierarchy",components:{FontAwesomeIcon:v["a"]},props:{chartData:{type:Object,required:!0},type:{type:String,required:!0}},data:function(){return{dSet:"g"}},computed:{classList:function(){return"".concat(this.type," v-box")},heading:function(){var t="";return t="general"===this.type?"CSS Selektorbaum":"duplications"===this.type?"Duplizierte Selektoren":"Fehlerbehaftete Selektoren",t}},watch:{chartData:{handler:function(t){this.chartData=t,this.drawChart()},deep:!0}},methods:{drawChart:function(){var t=new g;switch(this.type){case"general":t.$onInit(this.chartData.general,this.type);break;case"duplications":t.$onInit(this.chartData.duplications,this.type);break;case"warnings":t.$onInit(this.chartData.smelly,this.type);break;default:t.$onInit(this.chartData.general,this.type)}}}}),x=b,w=(n("ce1b"),n("2877")),C=Object(w["a"])(x,o,s,!1,null,null,null),k=C.exports,S=(n("9ceb"),c["a"].extend({name:"home",components:{SelectorHierarchy:k},data:function(){return{results:{},chartData:{duplications:{},general:{},smelly:{}}}},methods:{cData:function(){this.chartData.general=this.parseSelectors(this.generalData(),"general"),this.chartData.duplications=this.parseSelectors(this.duplicationData(),"duplication"),this.chartData.smelly=this.parseSelectors(this.smellyData(),"smelly")},duplicationData:function(){var t=[];return this.results.duplications.forEach(function(e){t.push({selector:e.origin.selector,category:"duplication",data:{}}),e.duplication&&t.push({selector:e.duplication.selector,category:"duplication",data:{}})}),this.results.warnings.forEach(function(e){"no-duplicate-selectors"!==e.rule&&"scss/selector-no-redundant-nesting-selector"!==e.rule&&"declaration-block-no-duplicate-properties"!==e.rule&&"declaration-block-no-shorthand-property-overrides"!==e.rule||t.push({selector:e.resolvedSelector,category:"duplication",data:{}})}),t},generalData:function(){var t=[];return this.results.stats[0].selectors.values.forEach(function(e){t.push({selector:e,category:"general",data:{}})}),t},smellyData:function(){var t=[];return this.results.warnings.forEach(function(e){var n="";switch(e.rule){case"selector-type-no-unknown":case"selector-pseudo-element-no-unknown":case"selector-pseudo-class-no-unknown":case"no-unknown-animations":n="syntax";break;case"no-descending-specificity":case"max-nesting-depth":case"selector-max-id":case"selector-max-type":case"selector-max-class":case"selector-max-compound-selectors":case"selector-no-qualifying-type":case"shorthand-property-no-redundant-values":n="specificity";break;case"scss/at-extend-no-missing-placeholder":case"length-zero-no-unit":n="style";break;case"plugin/no-low-performance-animation-properties":case"plugin/declaration-block-no-ignored-properties":case"plugin/no-undoing-styles":case"selector-attribute-operator-blacklist":case"block-no-empty":n="performance";break;case"scss/selector-no-redundant-nesting-selector":case"no-duplicate-selectors":case"declaration-block-no-duplicate-properties":case"declaration-block-no-shorthand-property-overrides":n="dupl";break;default:n=""}if(""!==e.resolvedSelector){var r=e.file.split("/");t.push({selector:e.resolvedSelector,data:{category:n,rule:e.rule,file:r.slice(Math.max(r.length-3,0)).join("/"),line:e.line,property:e.word}})}}),t},fetchHierarchyChartData:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:fetch("/dashboard/results/data.json").then(function(t){return t.json()}).then(function(t){e.results=t,e.cData()});case 1:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),parseSelectors:function(t,e){var n=this,r={name:"root",children:[]};return t.forEach(function(t){t.selector||console.error(t);var e=t.selector.split(" "),a=e[0],i=e.slice(1),c=r.children.filter(function(t){return t.name===a});(c.length<=0&&!e[0].includes(":")?i.length?r.children.push({name:e[0],children:[],data:[]}):r.children.push({name:e[0],children:[],data:[t.data]}):c.length>0&&i.length<1&&"duplication"!==t.category&&"general"!==t.category&&c[0].data.push(t.data),a.includes(":"))&&function(){var e=t.selector.split(":");if(r.children.filter(function(t){return t.name===e[0]}).length){for(s=0;s<r.children.length;s++)if(r.children[s].name===e[0]){var n=r.children[s].children.filter(function(t){return t.name===":".concat(e[1])});n.length<=0||"general"===t.category?r.children[s].children.push({name:":".concat(e[1]),children:[],data:[t.data]}):n[0].data.push(t.data);break}}else r.children.push({name:e[0],children:[]}),r.children[r.children.length-1].children.push({name:":".concat(e[1]),children:[],data:[t.data]})}();for(var o=0,s=0;s<r.children.length;s++)r.children[s].name===a&&(o=s);i.length&&n.generateChildren(i,o,r,t.data)}),r},generateChildren:function(t,e,n,r){t=this.cleanArray(t,"+"),t=this.cleanArray(t,">"),t=this.cleanArray(t,"~"),t=this.separatePseudos(t);var a=n.children[e].children.filter(function(e){return e.name===t[0]}).length;"+"===t[0]||">"===t[0]||"~"===t[0]||(n.children[e].children.length<=0||a<=0?1===t.length?n.children[e].children.push({name:t[0],children:[],data:[r]}):this.addToArray(t,n.children[e].children,r):a>0&&this.recursiveAdd(n.children[e],t,r))},recursiveAdd:function(t,e,n){var r=this;t.children.forEach(function(t){var a=e[0];if(t.name===a){e=e.slice(1);var i=t.children.filter(function(t){return t.name===e[0]});return 0===t.children.length?r.addToArray(e,t.children,n):i.length<=0?r.addToArray(e,t.children,n):i.length>0&&1===e.length?void i[0].data.push(n):r.recursiveAdd(t,e,n)}})},cleanArray:function(t,e){var n=t.indexOf(e);return n>-1&&(t[n+1]="".concat(e," ").concat(t[n+1]),t.splice(n,1)),t},addToArray:function(t,e,n){if(1===t.length)e.push({name:t[0],children:[],data:[n]});else{for(var r={},a={},i=t.length-1;i>=0;i--)i==t.length-1?a={name:t[i],children:[],data:[n]}:(r={name:t[i],children:[a],data:[]},a=r);e.push(r)}},separatePseudos:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r.includes(":")){var a=r.split(":");a[1]=":".concat(a[1]),e=e.concat(a)}else e.push(r)}return e}},mounted:function(){this.fetchHierarchyChartData()}})),D=S,_=(n("23ca"),Object(w["a"])(D,r,a,!1,null,"47ef7ecb",null));e["default"]=_.exports},ce1b:function(t,e,n){"use strict";var r=n("c200"),a=n.n(r);a.a},d2c8:function(t,e,n){var r=n("aae3"),a=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(a(t))}},e341:function(t,e,n){var r=n("d13f");r(r.S+r.F*!n("7d95"),"Object",{defineProperty:n("3adc").f})},ec5b:function(t,e,n){n("e341");var r=n("a7d3").Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}}}]);
//# sourceMappingURL=selectors.3ce0c0f8.js.map